<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Pragma" content="no-cache">

<meta http-equiv="Last-Modified" content="2023-01-05 05:08:27 +0000">
<meta http-equiv="Title" content="Jekyll-Potion - make_search_index_processor ">
<title>Jekyll-Potion - make_search_index_processor </title>
<meta property="og:url" content="https://nugudevelopers.github.io/jekyll-potion/use/processor/make-search-index-processor">
<meta property="og:type" content="website">
<meta property="og:title" content="Jekyll-Potion - make_search_index_processor ">
<meta property="og:image" content="https://nugudevelopers.github.io/jekyll-potion/assets/icon/icon.png">
<script type="text/javascript" src="/jekyll-potion/_assets/base/jquery-3.6.0.min.js"></script><script type="text/javascript" src="/jekyll-potion/_assets/base/code.js"></script><script type="text/javascript" src="/jekyll-potion/_assets/base/tabs.js"></script><script type="text/javascript" src="/jekyll-potion/_assets/base/navigation.js"></script><link rel="stylesheet" href="/jekyll-potion/_assets/css/main.css">
<link rel="stylesheet" href="/jekyll-potion/_assets/css/syntax.css">
<script type="text/javascript" src="/jekyll-potion/_assets/js/main.js"></script><script type="text/javascript" src="/jekyll-potion/_assets/js/jsrender.min.js"></script><script type="text/javascript" src="/jekyll-potion/_assets/base/header.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/jekyll-potion/_assets/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/jekyll-potion/_assets/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/jekyll-potion/_assets/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/jekyll-potion/_assets/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/jekyll-potion/_assets/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/jekyll-potion/_assets/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/jekyll-potion/_assets/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/jekyll-potion/_assets/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/jekyll-potion/_assets/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/jekyll-potion/_assets/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/jekyll-potion/_assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/jekyll-potion/_assets/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/jekyll-potion/_assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="/jekyll-potion/_assets/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/jekyll-potion/_assets/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
<script type="text/javascript" src="/jekyll-potion/_assets/base/search.js"></script>
</head>
<body>
<header>
    <div class="header menu">
    <div>
        <div id="menu" class="menu-icon show_menu"></div>
    </div>
</div>
<div class="header title">
    <div>
    <a href="/jekyll-potion/" class="link a-internal">
        
            <img src="/jekyll-potion/assets/icon/icon.png" class="img-inline">
        
        Jekyll-Potion
    </a>
</div>

</div>
<div class="header search">
    <div>
        <div class="search-bar show_search">
            <div class="search-icon"></div>
            <div class="search_text">| 검색</div>
        </div>
    </div>
</div>
<div class="header search-s">
    <div>
        <div class="search-icon show_search"></div>
    </div>
</div>

</header>
<nav>
    <div class="nav-container">
    <ul class="nav-menu">
    
        <li data-nav-link-id="/jekyll-potion/">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/">
        <a href="/jekyll-potion/" class="nav-href a-internal" data-nav-link>jekyll-potion</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/"> </span>
    </div>
    
</li>

    
        <li data-nav-link-id="/jekyll-potion/start">
    <div class="nav-link fold has-child " data-fold-target-id="/jekyll-potion/start">
        <a href="/jekyll-potion/start" class="nav-href a-internal" data-nav-link>시작하기</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/start"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/start"> </span>
    </div>
    
        <ul class="nav-menu">
            
                <li data-nav-link-id="/jekyll-potion/start/favicon">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/start/favicon">
        <a href="/jekyll-potion/start/favicon" class="nav-href a-internal" data-nav-link>favicon 적용</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/start/favicon"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/start/favicon"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/start/make-theme">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/start/make-theme">
        <a href="/jekyll-potion/start/make-theme" class="nav-href a-internal" data-nav-link>theme 만들기</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/start/make-theme"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/start/make-theme"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/start/apply-github-pages">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/start/apply-github-pages">
        <a href="/jekyll-potion/start/apply-github-pages" class="nav-href a-internal" data-nav-link>GitHub Pages 적용</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/start/apply-github-pages"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/start/apply-github-pages"> </span>
    </div>
    
</li>

            
        </ul>
    
</li>

    
        <li data-nav-link-id="/jekyll-potion/use">
    <div class="nav-link fold has-child " data-fold-target-id="/jekyll-potion/use">
        <a href="/jekyll-potion/use" class="nav-href a-internal" data-nav-link>사용하기</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use"> </span>
    </div>
    
        <ul class="nav-menu">
            
                <li data-nav-link-id="/jekyll-potion/use/processor">
    <div class="nav-link fold has-child " data-fold-target-id="/jekyll-potion/use/processor">
        <a href="/jekyll-potion/use/processor" class="nav-href a-internal" data-nav-link>processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor"> </span>
    </div>
    
        <ul class="nav-menu">
            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-base-javascript-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-base-javascript-processor">
        <a href="/jekyll-potion/use/processor/make-base-javascript-processor" class="nav-href a-internal" data-nav-link>make_base_javascript_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-base-javascript-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-base-javascript-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-front-matter-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-front-matter-processor">
        <a href="/jekyll-potion/use/processor/make-front-matter-processor" class="nav-href a-internal" data-nav-link>make_front_matter_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-front-matter-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-front-matter-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-theme-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-theme-processor">
        <a href="/jekyll-potion/use/processor/make-theme-processor" class="nav-href a-internal" data-nav-link>make_theme_processor</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-theme-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-theme-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-title-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-title-processor">
        <a href="/jekyll-potion/use/processor/make-title-processor" class="nav-href a-internal" data-nav-link>make_title_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-title-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-title-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-date-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-date-processor">
        <a href="/jekyll-potion/use/processor/make-date-processor" class="nav-href a-internal" data-nav-link>make_date_processor</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-date-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-date-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-favicon-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-favicon-processor">
        <a href="/jekyll-potion/use/processor/make-favicon-processor" class="nav-href a-internal" data-nav-link>make_favicon_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-favicon-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-favicon-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-navigation-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-navigation-processor">
        <a href="/jekyll-potion/use/processor/make-navigation-processor" class="nav-href a-internal" data-nav-link>make_navigation_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-navigation-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-navigation-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-empty-content-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-empty-content-processor">
        <a href="/jekyll-potion/use/processor/make-empty-content-processor" class="nav-href a-internal" data-nav-link>make_empty_content_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-empty-content-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-empty-content-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-header-link-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-header-link-processor">
        <a href="/jekyll-potion/use/processor/make-header-link-processor" class="nav-href a-internal" data-nav-link>make_header_link_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-header-link-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-header-link-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/rewrite-img-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/rewrite-img-processor">
        <a href="/jekyll-potion/use/processor/rewrite-img-processor" class="nav-href a-internal" data-nav-link>rewrite_img_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/rewrite-img-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/rewrite-img-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/rewrite-a-href-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/rewrite-a-href-processor">
        <a href="/jekyll-potion/use/processor/rewrite-a-href-processor" class="nav-href a-internal" data-nav-link>rewrite_a_href_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/rewrite-a-href-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/rewrite-a-href-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-search-index-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-search-index-processor">
        <a href="/jekyll-potion/use/processor/make-search-index-processor" class="nav-href a-internal" data-nav-link>make_search_index_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-search-index-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-search-index-processor"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/processor/make-og-tag-processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/processor/make-og-tag-processor">
        <a href="/jekyll-potion/use/processor/make-og-tag-processor" class="nav-href a-internal" data-nav-link>make_og_tag_processor </a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/processor/make-og-tag-processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/processor/make-og-tag-processor"> </span>
    </div>
    
</li>

            
        </ul>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag">
    <div class="nav-link fold has-child " data-fold-target-id="/jekyll-potion/use/tag">
        <a href="/jekyll-potion/use/tag" class="nav-href a-internal" data-nav-link>tag</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag"> </span>
    </div>
    
        <ul class="nav-menu">
            
                <li data-nav-link-id="/jekyll-potion/use/tag/alerts">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/alerts">
        <a href="/jekyll-potion/use/tag/alerts" class="nav-href a-internal" data-nav-link>alerts</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/alerts"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/alerts"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/api">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/api">
        <a href="/jekyll-potion/use/tag/api" class="nav-href a-internal" data-nav-link>api</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/api"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/api"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/code">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/code">
        <a href="/jekyll-potion/use/tag/code" class="nav-href a-internal" data-nav-link>code</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/code"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/code"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/empty">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/empty">
        <a href="/jekyll-potion/use/tag/empty" class="nav-href a-internal" data-nav-link>empty</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/empty"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/empty"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/file">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/file">
        <a href="/jekyll-potion/use/tag/file" class="nav-href a-internal" data-nav-link>file</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/file"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/file"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/link">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/link">
        <a href="/jekyll-potion/use/tag/link" class="nav-href a-internal" data-nav-link>link</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/link"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/link"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/logo">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/logo">
        <a href="/jekyll-potion/use/tag/logo" class="nav-href a-internal" data-nav-link>logo</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/logo"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/logo"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/navigation">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/navigation">
        <a href="/jekyll-potion/use/tag/navigation" class="nav-href a-internal" data-nav-link>navigation</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/navigation"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/navigation"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/pagination">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/pagination">
        <a href="/jekyll-potion/use/tag/pagination" class="nav-href a-internal" data-nav-link>pagination</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/pagination"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/pagination"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/use/tag/tabs">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/use/tag/tabs">
        <a href="/jekyll-potion/use/tag/tabs" class="nav-href a-internal" data-nav-link>tabs</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/use/tag/tabs"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/use/tag/tabs"> </span>
    </div>
    
</li>

            
        </ul>
    
</li>

            
        </ul>
    
</li>

    
        <li data-nav-link-id="/jekyll-potion/config">
    <div class="nav-link fold has-child " data-fold-target-id="/jekyll-potion/config">
        <a href="/jekyll-potion/config" class="nav-href a-internal" data-nav-link>설정</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/config"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/config"> </span>
    </div>
    
        <ul class="nav-menu">
            
                <li data-nav-link-id="/jekyll-potion/config/site">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/config/site">
        <a href="/jekyll-potion/config/site" class="nav-href a-internal" data-nav-link>Site 설정</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/config/site"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/config/site"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/config/theme">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/config/theme">
        <a href="/jekyll-potion/config/theme" class="nav-href a-internal" data-nav-link>theme 설정</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/config/theme"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/config/theme"> </span>
    </div>
    
</li>

            
                <li data-nav-link-id="/jekyll-potion/config/processor">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/config/processor">
        <a href="/jekyll-potion/config/processor" class="nav-href a-internal" data-nav-link>processor 설정</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/config/processor"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/config/processor"> </span>
    </div>
    
</li>

            
        </ul>
    
</li>

    
        <li data-nav-link-id="/jekyll-potion/life-cycle">
    <div class="nav-link fold" data-fold-target-id="/jekyll-potion/life-cycle">
        <a href="/jekyll-potion/life-cycle" class="nav-href a-internal" data-nav-link>life-cycle</a>
        <span class="nav-unfold" data-unfold-id="/jekyll-potion/life-cycle"> </span>
        <span class="nav-fold" data-fold-id="/jekyll-potion/life-cycle"> </span>
    </div>
    
</li>

    
</ul>

</div>

</nav>
<main>
    <div id="container" class="main-container">
    <div class="header">
        <h1>make_search_index_processor </h1>
        <div class="description"></div>
    </div>
    <div class="content">
        <p>대상이 되는 모든 문서를 HTML 요소를 분석하고 HTML tag 내 텍스트를 추출하여 검색에 활용할 수 있도록 합니다.</p>

<p>또한 문서 내 <code class="language-plaintext highlighter-rouge">H#</code> tag 가 존재할 경우 depth 를 분석하고, 분석된 depth 를 통해 검색된 결과의 navigation(링크 정보) 을 구성할 수 있도록 합니다.</p>

<p>추출 대상 HTML tag 는 아래와 같습니다.</p>

<table>
  <thead>
    <tr>
      <th>tag</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">h#</code></td>
      <td>문서내 depth를 분석하여, 문서 내 영역의 위치, 링크를 생성합니다.</td>
    </tr>
    <tr>
      <td>
<code class="language-plaintext highlighter-rouge">ul</code>, <code class="language-plaintext highlighter-rouge">ol</code>
</td>
      <td>요소 내 <code class="language-plaintext highlighter-rouge">li</code> 내 텍스트를 추출</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">table</code></td>
      <td>
<code class="language-plaintext highlighter-rouge">thread</code>, <code class="language-plaintext highlighter-rouge">tbody</code> 내 <code class="language-plaintext highlighter-rouge">td</code> 내 텍스트를 추출</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pre</code></td>
      <td>code 요소 일 경우의 코드 본문을 추출</td>
    </tr>
    <tr>
      <td>그 밖의 HTML tag</td>
      <td>tag 내 텍스트를 추출</td>
    </tr>
  </tbody>
</table>

<p>추출된 텍스트는 <code class="language-plaintext highlighter-rouge">{선택한 theme.assets.target_root_path}/base/search.json</code> 에 다음과 같은 구조로 저장됩니다.</p>

<div class="code">
    <div class="header">
        <div class="title"></div>
        <div class="copy" data-code-copy-target-id=""></div>
        <div class="copy-text" data-skip-search-index="">복사성공!</div>
    </div>
    <div class="body">
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
<td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/use/tag/alerts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alerts"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sentences"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"alerts"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"alerts 는 정해진 유형의 시각화를 통해 사용자에게 강조된 내용을 제공합니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"기본적인 선언은 다음과 같습니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"{% alerts style=</span><span class="se">\"</span><span class="s2">{style}</span><span class="se">\"</span><span class="s2"> %}</span><span class="se">\n</span><span class="s2">{content}</span><span class="se">\n</span><span class="s2">{% endalerts %}"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"style | enum | Y | style 은 시각화의 유형을 결정합니다.각 유형은 proto theme 에서 우측 측면에 다음의 색상으로 표현됩니다.* info : #4169E1* warning : #FF8C00* danger : #8B0000* success : #008000style 은 필수값이나, theme 별로 강제화된 값은 없습니다. 필요한 style 이 있다면, 그에 맞는 스타일이 존재한다면, 사용 가능합니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"content | markdown |   | content 는 시각화를 통해 표현할 본문에 해당됩니다. 모든 markdown 문법을 지원하기 때문에 일반 문서 내용을 작성하듯 작성하면 됩니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"alerts 의 proto theme 의 기본 template, stylesheet 는 다음과 같습니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"이 값은 새로운 theme 작성시 용도에 맞게 변경이 가능합니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"template"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"stylesheet"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"alerts.liquid"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"&lt;div class=</span><span class="se">\"</span><span class="s2">alerts {{ style }}</span><span class="se">\"</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">    &lt;div class=</span><span class="se">\"</span><span class="s2">style</span><span class="se">\"</span><span class="s2">&gt;&lt;/div&gt;</span><span class="se">\n</span><span class="s2">    &lt;div class=</span><span class="se">\"</span><span class="s2">body</span><span class="se">\"</span><span class="s2">&gt;{{ body }}&lt;/div&gt;</span><span class="se">\n</span><span class="s2">&lt;/div&gt;"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"template 작성 항목"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"style | Y | 선언시 사용한 style"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"body | Y | 선언시 사용한 content 로서 markdown 으로서 표현됩니다."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"div.alerts {</span><span class="se">\n</span><span class="s2">  @extend %bordered-box;</span><span class="se">\n</span><span class="s2">  @extend %item-width;</span><span class="se">\n\n</span><span class="s2">  display: flex;</span><span class="se">\n\n</span><span class="s2">  &amp; &gt; div.style {</span><span class="se">\n</span><span class="s2">    width: 0.4em;</span><span class="se">\n</span><span class="s2">    border-radius: 0.5em 0 0 0.5em;</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n\n</span><span class="s2">  &amp;.info &gt; div.style {</span><span class="se">\n</span><span class="s2">    background-color: royalblue;</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n\n</span><span class="s2">  &amp;.warning &gt; div.style {</span><span class="se">\n</span><span class="s2">    background-color: darkorange;</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n\n</span><span class="s2">  &amp;.danger &gt; div.style {</span><span class="se">\n</span><span class="s2">    background-color: darkred;</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n\n</span><span class="s2">  &amp;.success &gt; div.style {</span><span class="se">\n</span><span class="s2">    background-color: green;</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n\n</span><span class="s2">  &amp; &gt; div.body {</span><span class="se">\n</span><span class="s2">    @extend %gap-grid-row;</span><span class="se">\n</span><span class="s2">    width: calc(100% - 0.4em);</span><span class="se">\n</span><span class="s2">    height: fit-content;</span><span class="se">\n</span><span class="s2">    margin: 0.5em 1em;</span><span class="se">\n\n</span><span class="s2">    img {</span><span class="se">\n</span><span class="s2">      width: auto;</span><span class="se">\n</span><span class="s2">      max-height: 6em;</span><span class="se">\n</span><span class="s2">    }</span><span class="se">\n</span><span class="s2">  }</span><span class="se">\n</span><span class="s2">}"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"자세한 stylesheet 는 _jekyll-potion/lib/theme/proto/assets/main.scss 파일을 참고하세요."</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td>
</tr></tbody></table></code></pre></div></div>
</div>
</div>

<table>
  <thead>
    <tr>
      <th>attribute</th>
      <th>타입</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[]</td>
      <td>array of object</td>
      <td>페이지 검색 index</td>
    </tr>
    <tr>
      <td>[].url</td>
      <td>string</td>
      <td>페이지 URL</td>
    </tr>
    <tr>
      <td>[].order</td>
      <td>int</td>
      <td>페이지의 순서</td>
    </tr>
    <tr>
      <td>[].indexes</td>
      <td>array of object</td>
      <td>페이지 내 목차별 검색 index</td>
    </tr>
    <tr>
      <td>[].indexes[].title</td>
      <td>string</td>
      <td>페이지 내 목차별 제목</td>
    </tr>
    <tr>
      <td>[].indexes[].hash</td>
      <td>string</td>
      <td>페이지 내 목차별 hash link</td>
    </tr>
    <tr>
      <td>[].indexes[].sentences</td>
      <td>array of string</td>
      <td>목차내 문장 목록</td>
    </tr>
  </tbody>
</table>

<p>생성된 검색 index 파일을 컨트롤하는 javascript 는 다음과 같습니다.</p>

<div class="code">
    <div class="header">
        <div class="title">header.js</div>
        <div class="copy" data-code-copy-target-id=""></div>
        <div class="copy-text" data-skip-search-index="">복사성공!</div>
    </div>
    <div class="body">
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre></td>
<td class="rouge-code"><pre><span class="p">((</span><span class="nx">$</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">class</span> <span class="nx">SearchResults</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">keyword</span><span class="p">,</span> <span class="nx">per_size</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">()</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">keyword</span> <span class="o">=</span> <span class="nx">keyword</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">per_size</span> <span class="o">=</span> <span class="nx">per_size</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">search_results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="nx">contains</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">())</span>
      <span class="p">}</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">has</span><span class="p">(</span><span class="nx">index</span><span class="p">.</span><span class="nx">hash</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="kd">set</span><span class="p">(</span><span class="nx">index</span><span class="p">.</span><span class="nx">hash</span><span class="p">,</span> <span class="p">[])</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="kd">get</span><span class="p">(</span><span class="nx">index</span><span class="p">.</span><span class="nx">hash</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">line_numbers</span> <span class="o">=&gt;</span> <span class="nx">line_numbers</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">line_number</span><span class="p">))</span>
    <span class="p">}</span>

    <span class="kd">static</span> <span class="nx">create_line_numbers</span><span class="p">(</span><span class="nx">line_number</span><span class="p">,</span> <span class="nx">total_size</span><span class="p">,</span> <span class="nx">per_size</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">start</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">line_number</span> <span class="o">-</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">per_size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="nx">per_size</span> <span class="o">%</span> <span class="mi">2</span><span class="p">))))</span>
      <span class="kd">let</span> <span class="nx">end</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">total_size</span><span class="p">,</span> <span class="nx">start</span> <span class="o">+</span> <span class="nx">per_size</span><span class="p">)</span>

      <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">[]</span>

      <span class="k">for</span> <span class="p">(</span><span class="nx">start</span><span class="p">;</span> <span class="nx">start</span> <span class="o">&lt;</span> <span class="nx">end</span><span class="p">;</span> <span class="nx">start</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">start</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="nx">n</span>
    <span class="p">}</span>

    <span class="nx">add_line_number</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index_order</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">))</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">line_numbers</span> <span class="o">=</span> <span class="nx">SearchResults</span><span class="p">.</span><span class="nx">create_line_numbers</span><span class="p">(</span><span class="nx">line_number</span><span class="p">,</span> <span class="nx">index</span><span class="p">.</span><span class="nx">sentences</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">per_size</span><span class="p">)</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page_index_line_numbers_map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="kd">get</span><span class="p">(</span><span class="nx">index</span><span class="p">.</span><span class="nx">hash</span><span class="p">).</span><span class="nx">push</span><span class="p">(</span><span class="nx">line_numbers</span><span class="p">)</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">search_results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">SearchResult</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index_order</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">keyword</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">,</span> <span class="nx">line_numbers</span><span class="p">))</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">result</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">search_results</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">r1</span><span class="p">,</span> <span class="nx">r2</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">r1</span><span class="p">.</span><span class="nx">page_order</span> <span class="o">===</span> <span class="nx">r2</span><span class="p">.</span><span class="nx">page_order</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">r1</span><span class="p">.</span><span class="nx">index_order</span> <span class="o">===</span> <span class="nx">r2</span><span class="p">.</span><span class="nx">index_order</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">r1</span><span class="p">.</span><span class="nx">line_number</span> <span class="o">-</span> <span class="nx">r2</span><span class="p">.</span><span class="nx">line_number</span>
          <span class="p">}</span>

          <span class="k">return</span> <span class="nx">r1</span><span class="p">.</span><span class="nx">index_order</span> <span class="o">-</span> <span class="nx">r2</span><span class="p">.</span><span class="nx">index_order</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">r1</span><span class="p">.</span><span class="nx">page_order</span> <span class="o">-</span> <span class="nx">r2</span><span class="p">.</span><span class="nx">page_order</span>
      <span class="p">})</span>

      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">search_results</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nx">SearchResult</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index_order</span><span class="p">,</span> <span class="nx">keyword</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">,</span> <span class="nx">line_numbers</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">page</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="nx">index</span><span class="p">.</span><span class="nx">hash</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">index</span><span class="p">.</span><span class="nx">title</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">page_order</span> <span class="o">=</span> <span class="nx">page</span><span class="p">.</span><span class="nx">order</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">index_order</span> <span class="o">=</span> <span class="nx">index_order</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">line_number</span> <span class="o">=</span> <span class="nx">line_number</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">sentences</span> <span class="o">=</span> <span class="nx">line_numbers</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">n</span> <span class="o">=&gt;</span> <span class="nx">index</span><span class="p">.</span><span class="nx">sentences</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="dl">'</span><span class="s1">(</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">keyword</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">)</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">gi</span><span class="dl">'</span><span class="p">),</span> <span class="dl">'</span><span class="s1">&lt;code&gt;$1&lt;/code&gt;</span><span class="dl">'</span><span class="p">))</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nx">Search</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">loaded</span> <span class="o">=</span> <span class="kc">false</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">page_indexes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="nx">load_search_file</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="dl">'</span><span class="s1">{{ search_file }}</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">loaded</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page_indexes</span> <span class="o">=</span> <span class="nx">data</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">})</span>
    <span class="p">}</span>

    <span class="nx">search</span><span class="p">(</span><span class="nx">keyword</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loaded</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">search_results</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SearchResults</span><span class="p">(</span><span class="nx">keyword</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">page_indexes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">page</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">page</span><span class="p">.</span><span class="nx">indexes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">index</span><span class="p">,</span> <span class="nx">index_order</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">index</span><span class="p">.</span><span class="nx">sentences</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">sentence</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="k">if</span> <span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">keyword</span><span class="p">,</span> <span class="dl">'</span><span class="s1">i</span><span class="dl">'</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">sentence</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">search_results</span><span class="p">.</span><span class="nx">add_line_number</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index_order</span><span class="p">,</span> <span class="nx">line_number</span><span class="p">)</span>
              <span class="p">}</span>
            <span class="p">})</span>
          <span class="p">})</span>
        <span class="p">})</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span> <span class="o">&amp;&amp;</span> <span class="nx">callback</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">search_results</span><span class="p">.</span><span class="nx">result</span><span class="p">())</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">load_search_file</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">keyword</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span>
        <span class="p">})</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">search</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">)</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
</div>
</div>

<p>해당 javascript는 다음과 같이 사용될 수 있습니다.</p>

<div class="code">
    <div class="header">
        <div class="title"></div>
        <div class="copy" data-code-copy-target-id=""></div>
        <div class="copy-text" data-skip-search-index="">복사성공!</div>
    </div>
    <div class="body">
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td>
<td class="rouge-code"><pre><span class="k">this</span><span class="p">.</span><span class="nx">search</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">search</span><span class="p">()</span>
<span class="k">this</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">search_input</span><span class="p">.</span><span class="nx">val</span><span class="p">(),</span> <span class="k">this</span><span class="p">,</span> <span class="nx">results</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">search_contents</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">templates</span><span class="p">(</span><span class="dl">'</span><span class="s1">#search_contents_tmpl</span><span class="dl">'</span><span class="p">).</span><span class="nx">render</span><span class="p">(</span><span class="nx">results</span><span class="p">))</span>
<span class="p">})</span>
</pre></td>
</tr></tbody></table></code></pre></div></div>
</div>
</div>

<p>검색 결과는 위에서 언급된 json 내용이 결과에 맞게 javascript object 형태로 전환되어 리턴되며, template 이나 HTML 요소로 전환할 수 있습니다.</p>

<p>해당 javascript 는 theme 의 설정에 의해 <code class="language-plaintext highlighter-rouge">skip_keyword</code>, <code class="language-plaintext highlighter-rouge">search_file_name</code> 값을 변경할 수 있으며, 자세한 내용은 <a href="/jekyll-potion/config/theme#processor-%EC%84%A4%EC%A0%95" class="a-internal">processor 설정</a> 를 참조하세요.</p>

<h2 id="hook-event">Hook event<a href="#hook-event" class="go-hash hash-internal a-internal"></a><div class="copy-link" data-header-link="/jekyll-potion/use/processor/make-search-index-processor#hook-event"></div>
</h2>

<table>
  <thead>
    <tr>
      <th>owner</th>
      <th>event</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">site</td>
      <td style="text-align: left">after_init</td>
      <td>검색 파일을 경로에 맞게 생성합니다.</td>
    </tr>
    <tr>
      <td style="text-align: left">page</td>
      <td style="text-align: left">post_render</td>
      <td>문서를 분석하여 검색 index 를 생성하고 페이지별 검색 문서, javascript 를 문서에 추가합니다.</td>
    </tr>
    <tr>
      <td style="text-align: left">site</td>
      <td style="text-align: left">post_render</td>
      <td>문서를 분석하여 og tag 를 생성하고 문서에 추가합니다.</td>
    </tr>
  </tbody>
</table>

        <div class="block-row pagination" data-skip-search-index>
    
        <div>
            <div class="block pagination">
                <a class="block-body a-internal" href="/jekyll-potion/use/processor/rewrite-a-href-processor">
                    <div class="thumb prev"></div>
                    <div class="content right">
                        <div class="x-small">이전</div>
                        <div class="bold">rewrite_a_href_processor </div>
                        <div class="small"></div>
                    </div>
                </a>
            </div>
        </div>
    
    
        <div>
            <div class="block pagination">
                <a class="block-body a-internal" href="/jekyll-potion/use/processor/make-og-tag-processor">
                    <div class="content">
                        <div class="x-small">다음</div>
                        <div class="bold">make_og_tag_processor </div>
                        <div class="small"></div>
                    </div>
                    <div class="thumb next"></div>
                </a>
            </div>
        </div>
    
</div>

    </div>
</div>

</main>
<div id="modal_image_area" class="modal hide">
    <div class="modal-wrapper">
        <img id="modal_image" class="modal-image" src="" data-skip-src-to-absolute>
    </div>
</div>

<script type="text/x-jsrender" id="search_contents_tmpl">

<div class="search-content">
    <a href="{{:url}}">
        <div class="bold">{{:title}}</div>
        <div class="content">
            {{for sentences}}
            <p>{{:}}</p>
            {{/for}}
        </div>
    </a>
</div>

</script>
<div id="modal_search_area" class="modal hide">
    <div class="modal-wrapper">
        <div class="modal-search">
            <div class="search-area">
                <input id="search_keyword" type="text" placeholder="최소 2자 이상의 검색어를 입력하신 후 Enter를 입력하세요.">
            </div>
            <div class="search-result-area">
                <div class="search-container">
                    <div id="search_contents" class="search-contents">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
